import{j as e,R as E,r as p}from"./react-76f7fb99.js";import{c as U}from"./react-dom-22628c77.js";import{L as O,c as R}from"./react-router-dom-bca78886.js";import{r as Y,u as K}from"./xlsx-04f2268f.js";import{R as L}from"./react-router-86827b19.js";import"./scheduler-765c72db.js";import"./@remix-run-5d0e6a0c.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const x of n)if(x.type==="childList")for(const N of x.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&t(N)}).observe(document,{childList:!0,subtree:!0});function f(n){const x={};return n.integrity&&(x.integrity=n.integrity),n.referrerPolicy&&(x.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?x.credentials="include":n.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function t(n){if(n.ep)return;n.ep=!0;const x=f(n);fetch(n.href,x)}})();function B(){return e.jsxs("nav",{className:"flex items-center justify-between flex-wrap bg-teal-800 p-6 mb-10 rounded-b-xl",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 text-teal-300 mr-6 uppercase",children:e.jsx(O,{to:"/",className:"font-semibold text-xl tracking-tight",children:"Wong Ampuh"})}),e.jsx("div",{className:" lg:flex lg:items-center lg:w-auto ",children:e.jsxs("div",{className:"text-lg space-x-15 uppercase",children:[e.jsx(O,{to:"/",className:"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mx-5",children:"Home"}),e.jsx(O,{to:"/label",className:"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mx-5",children:"Proses"})]})})]})}const v=({children:s})=>e.jsx(E.Fragment,{children:e.jsxs("div",{className:"container mx-auto ",children:[e.jsx(B,{}),s]})});function Q(){return e.jsx(v,{children:"Home"})}function _(s){let d=[];const f=(t,n,x,N,a,r,c,i,g,A,m,k,u)=>e.jsx("div",{className:"max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 m-3",children:e.jsxs("div",{className:"p-5",children:[e.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white text-center",children:t}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"PO"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:x||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"ITEM CODE"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:N||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"SPEC"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:a||JSON.parse(localStorage.getItem(r+" "+m+s.KEYDB+"spec"))||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"PCX"}),e.jsx("td",{className:"px-6 py-4 white",children:e.jsx("input",{value:u||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"HS CODE"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:r||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"COLOR"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:c,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"QTY"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:i+" "+m,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"WEIGHT"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{value:g+" "+k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"SHIPMENT"}),e.jsx("td",{className:"px-6 py-4 white",children:e.jsx("input",{value:A,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]})]})})}),e.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900  text-center",children:n})]})});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-wrap w-full gap-6 md:grid-cols-3 mt-5",children:s.DATALOGIC.map((t,n)=>e.jsxs("div",{className:"border-solid rounded-lg border-4 border-black-600 m-auto",children:[d.push(t),t.QTY.ANAKAN>0&&e.jsxs(p.Fragment,{children:[e.jsxs("p",{className:"font-bold text-center m-4 text-white",children:[" ",t.QTY.JUMLAH_PACK," x ",t.QTY.PER_PACK," + ",t.QTY.ANAKAN," ="," ",t.QTY.TOTAL_QTY," "]}),f(t.DATA_CUSTOMER.customer,t.DATA_CUSTOMER.supliyer,t.PO,t.ITEM_CODE,t.SPEC,t.HSCODE,t.COLOR,t.QTY.PER_PACK,t.QTY.WEIGHT.BERAT_PERPACK,t.DATA_CUSTOMER.date,t.UNIT,t.QTY.WEIGHT.UNIT,t.PCX),f(t.DATA_CUSTOMER.customer,t.DATA_CUSTOMER.supliyer,t.PO,t.ITEM_CODE,t.SPEC,t.HSCODE,t.COLOR,t.QTY.ANAKAN,t.QTY.WEIGHT.BERAT_ANAKAN,t.DATA_CUSTOMER.date,t.UNIT,t.QTY.WEIGHT.UNIT,t.PCX)]},n),!t.QTY.ANAKAN&&e.jsxs(p.Fragment,{children:[e.jsxs("p",{className:"font-bold text-center m-4 text-white",children:[" ",t.QTY.JUMLAH_PACK," x ",t.QTY.PER_PACK," = ",t.QTY.TOTAL_QTY," "]}),f(t.DATA_CUSTOMER.customer,t.DATA_CUSTOMER.supliyer,t.PO,t.ITEM_CODE,t.SPEC,t.HSCODE,t.COLOR,t.QTY.PER_PACK,t.QTY.WEIGHT.BERAT_PERPACK,t.DATA_CUSTOMER.date,t.UNIT,t.QTY.WEIGHT.UNIT,t.PCX)]},n)]},n))})})}const D=[];function J(s){const d=(a,r,c)=>{if(a>=r){const i=Math.floor(Number(a)/r),g=a-i*r;if(a>=r)return g==0?`${i} X ${r} ${c}`:`${i} X ${r} ${c} + ${g} ${c}`}else return`1 X ${a} ${c}`},f=(a,r)=>{if(a>=r){const c=Math.floor(Number(a)/r),i=a-c*r;if(a>=r)return i==0?c:Number(c+1)}else return 1},t=(a,r,c)=>{const i=Number(a/r);return Number(i*c).toFixed(2)},n=a=>JSON.parse(localStorage.getItem(a.KODE+" "+a.UNIT+s.DATAJSON[0].KEYDB+"panjang")),x=a=>JSON.parse(localStorage.getItem(a.KODE+" "+a.UNIT+s.DATAJSON[0].KEYDB+"berat")),N=a=>JSON.parse(localStorage.getItem(a.KODE+" "+a.UNIT+s.DATAJSON[0].KEYDB+"spec"));return e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative overflow-x-scroll no-scrollbar",children:e.jsxs("table",{className:" w-full ",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white text-black border-b dark:bg-gray-800 dark:text-white dark:border-gray-700 text-center cek-table border-solid border-2",children:[e.jsx("th",{className:" pl-3 text-left",children:"JENIS BARANG"}),e.jsx("th",{children:"KODE BARANG"}),e.jsx("th",{children:"WARNA"}),e.jsx("th",{className:" text-right",children:"PANJANG"}),e.jsx("th",{}),e.jsx("th",{className:" text-right",children:"BERAT"}),e.jsx("th",{}),e.jsx("th",{children:"KETERANGAN"}),e.jsx("th",{}),e.jsx("th",{children:"PO"})]})}),s.DATAJSON.map((a,r)=>e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white text-black border-b dark:bg-gray-800 dark:text-white dark:border-gray-700 text-center cek-table border-solid border-2 hover:bg-white hover:text-black",children:[e.jsx("td",{className:"pl-3 py-2 text-left size-text ",children:N(a)}),e.jsx("td",{className:"text-center size-text ",children:a.MATERIAL}),e.jsx("td",{className:"text-center size-text",children:a.COLOUR}),e.jsx("td",{className:"text-right size-text",children:a.QTY}),e.jsx("td",{className:"text-right size-text",children:a.UNIT}),e.jsx("td",{className:"text-right size-text",children:t(x(a),n(a),a.QTY)}),e.jsx("td",{className:"text-center size-text capitalize ",children:"Kg"}),e.jsx("td",{className:" pl-4 border-l-rose-500 text-left size-text",children:d(a.QTY,n(a),a.UNIT)}),e.jsx("td",{className:"text-center size-text",children:f(a.QTY,n(a))}),e.jsx("td",{className:"text-center text-[15px]",children:a.PO})]})},r))]})})})}function M(s){const[d,f]=p.useState(null),[t,n]=p.useState(!1),[x,N]=p.useState(null),[a,r]=p.useState(null),[c,i]=p.useState(!1),g={},A=D.filter(o=>o.PO in g&&o.COLOR in g&&o.ITEM_CODE in g&&o.HSCODE in g&&o.QTY.TOTAL_QTY in g?!1:(g[o.PO]=!0,g[o.COLOR]=!0,g[o.ITEM_CODE]=!0,g[o.HSCODE]=!0,g[o.QTY.TOTAL_QTY]=!0,!0)),m=(o,y)=>o.reduce(function(l,b){return(l[b[y]]=l[b[y]]||[]).push(b),l},{}),k=()=>{const o=m(A,"PO");r(A[0].QTY.WEIGHT.UNIT),s.PO.map(y=>{o[y]&&o[y].sort((l,b)=>{if(l.HSCODE<b.HSCODE)return-1})}),f(o),N(A[0].UNIT),n(!0)},u=o=>{const y=document.getElementById(o);let l=0;if(y!=null)for(let b=1;b<y.rows.length;b++){let T=y.rows[b].cells[3];l+=Number(T.innerText)}return l},j=o=>{const y=document.getElementById(o);let l=0;if(y!=null)for(let b=1;b<y.rows.length;b++){let T=y.rows[b].cells[5];l+=Number(T.innerText)}return l.toFixed(2)},h=o=>{const y=document.getElementById(o);let l=0;if(y!=null)for(let b=1;b<y.rows.length;b++){let T=y.rows[b].cells[8];l+=Number(T.innerText)}return l};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-x-auto border-solid rounded-lg border-4 border-black-600 mt-9 flex flex-col align-center justify-center",children:[e.jsx("br",{}),e.jsx("button",{className:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 mx-auto mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",onClick:()=>k(),children:"Buat / Update Data SJ"}),t&&s.PO.map((o,y)=>e.jsxs("div",{children:[e.jsxs("div",{className:"relative overflow-x-scroll",children:[e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 table-fixed cek-table",id:o,children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center cek-table",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Jenis Barang"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Kode Barang"}),e.jsx("th",{scope:"col",className:"px-6 py-3 ",children:"Warna"}),e.jsx("th",{scope:"col",className:"px-6 py-3 ",children:"Panjang"}),e.jsx("th",{scope:"col",className:"px-6 py-3 "}),e.jsx("th",{scope:"col",className:"px-6 py-3 ",children:"Berat"}),e.jsx("th",{scope:"col",className:"px-6 py-3 "}),e.jsx("th",{scope:"col",className:"px-6 py-3 ",children:"Keterangan"}),e.jsx("th",{scope:"col",className:"px-6 py-3 "}),e.jsx("th",{scope:"col",className:"px-6 py-3 ",children:o})]})}),d[o]!==void 0&&d[o].map((l,b)=>e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 text-center cek-table border-solid border-2 border-sky-500",children:[e.jsx("td",{className:"px-6 py-4 text-left size-text ",children:JSON.parse(localStorage.getItem(l.HSCODE+" "+l.UNIT+s.KEYDB+"spec"))}),e.jsx("td",{className:"px-6 py-4 text-center size-text ",children:l.ITEM_CODE}),e.jsx("td",{className:"px-6 py-4 text-center size-text",children:l.COLOR}),e.jsx("td",{className:"px-6 py-4 text-center size-text",children:Number(l.QTY.TOTAL_QTY)}),e.jsx("td",{className:"px-6 py-4 text-center size-text",children:l.UNIT}),e.jsxs("td",{className:"px-6 py-4 text-center size-text",children:["=",Number(l.QTY.WEIGHT.BERAT_SATUAN),"*"]}),e.jsx("td",{className:"px-6 py-4 text-center size-text capitalize ",children:l.QTY.WEIGHT.UNIT}),e.jsxs("td",{className:"px-6 py-4 text-left size-text",children:[!l.QTY.ANAKAN&&`${l.QTY.JUMLAH_PACK} X ${l.QTY.PER_PACK} ${l.UNIT}`,Number(l.QTY.ANAKAN)>0&&`${l.QTY.JUMLAH_PACK}  X ${l.QTY.PER_PACK} ${l.UNIT} + ${l.QTY.ANAKAN} ${l.UNIT}`]}),e.jsxs("td",{className:"px-6 py-4 text-center size-text",children:[!l.QTY.ANAKAN&&`${l.QTY.JUMLAH_PACK} `,Number(l.QTY.ANAKAN)>0&&`${Number(l.QTY.JUMLAH_PACK+1)}`]}),e.jsx("td",{className:"px-6 py-4 text-center size-text"}),e.jsx("td",{className:"px-6 py-4 text-center size-text"}),e.jsx("td",{className:"px-6 py-4 text-center size-text"})]})},b))]}),e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 table-fixed",children:e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center cek-table",children:e.jsxs("tr",{children:[e.jsx("td",{scope:"col",className:"px-6 py-3 ",children:"TOTAL"}),e.jsx("td",{scope:"col",className:"px-6 py-3  "}),e.jsx("td",{scope:"col",className:"px-6 py-3  "}),e.jsx("td",{scope:"col",className:"px-6 py-3 size-text",children:u(o)}),e.jsx("td",{scope:"col",className:"px-6 py-3 size-text",children:x&&x}),e.jsx("td",{scope:"col",className:"px-6 py-3 size-text",children:j(o)}),e.jsx("td",{scope:"col",className:"px-6 py-3 size-text",children:a&&a}),e.jsxs("td",{scope:"col",className:"px-6 py-3 size-text",children:[h(o)," pack"]}),e.jsx("td",{scope:"col",className:"px-6 py-3 "}),e.jsx("td",{scope:"col",className:"px-6 py-3 "}),e.jsx("td",{scope:"col",className:"px-6 py-3 "}),e.jsx("td",{scope:"col",className:"px-6 py-3 "})]})})}),e.jsx("br",{})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("td",{})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{})})})]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]},y)),e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{className:"overflow-x-auto border-solid rounded-lg border-4 border-black-600 mt-9 flex flex-col align-center justify-center",children:[e.jsx("button",{className:"text-white bg-slate-300 mt-5 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 mx-auto mb-5 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",onClick:()=>i(o=>!o),children:"SAT SET"}),c&&e.jsx(J,{DATAJSON:s.DATAJSON})]})]})}function H(s){const[d,f]=p.useState("");return p.useEffect(()=>{const t=s.PANJANG;let n=[];const x=(r,c,i,g)=>({PER_PACK:r,WEIGHT:a(r,g),JUMLAH_PACK:i,ANAKAN:g,TOTAL_QTY:c}),N=r=>{if(r>=t){const c=Math.floor(Number(r)/t),i=r-c*t;return r>t&&i==0,x(t,r,c,i)}else return{PER_PACK:r,WEIGHT:a(r),JUMLAH_PACK:1,ANAKAN:NaN,TOTAL_QTY:r}},a=(r,c)=>{const i=s.BERAT/t,g=i*r;return{BERAT_ANAKAN:(i*c).toFixed(2),BERAT_PERPACK:g.toFixed(2),BERAT_SATUAN:Number(i),UNIT:"Kg"}};return s.DATA.map(r=>{const c={PO:r.PO,QTY:N(r.QTY),HSCODE:r.KODE,ITEM_CODE:r.MATERIAL,SPEC:r.SPEC,COLOR:r.COLOUR,UNIT:r.UNIT,DATA_CUSTOMER:s.DATACUST,PCX:r.PCX};return r.QTY?D==c?void 0:(D.push(c),n.push(c)):f(null)}),f(n)},[s.DATA,s.PANJANG,s.BERAT]),e.jsxs(E.Fragment,{children:[d&&e.jsx(_,{DATALOGIC:d,KEYDB:s.KEYDB}),d&&e.jsx(M,{NEWDATASJ:d,PO:s.PO,QTYALL:s.QtyAll,KEYDB:s.KEYDB,DATAJSON:s.DATAJSON})]})}function $(s){const[d,f]=p.useState(""),[t,n]=p.useState(null),[x,N]=p.useState(null),[a,r]=p.useState(),[c,i]=p.useState(),g=[...new Set(t)],A=[...new Set(x)],m=s.DATA[0].KEYDB;p.useEffect(()=>{const u=[],j=[];s.DATA.map(h=>{u.push(h.PO),j.push(h.KODE+" "+h.UNIT),h.PANJANG&&localStorage.setItem(h.KODE+" "+h.UNIT+m+"panjang",JSON.stringify(h.PANJANG)),h.BERAT&&localStorage.setItem(h.KODE+" "+h.UNIT+m+"berat",JSON.stringify(h.BERAT)),JSON.parse(localStorage.getItem(h.KODE+" "+h.UNIT+m+"spec"))==null&&h.SPEC&&localStorage.setItem(h.KODE+" "+h.UNIT+m+"spec",JSON.stringify(h.SPEC))}),n(u.sort()),N(j.sort())},[]);const k=(u,j,h,o)=>{f(""),r(""),i("");const l=(w=>w.substring(w.length,w.length-4)==" PCS"?s.DATA.filter(S=>S.KODE==w.substring(0,w.length-4)):s.DATA.filter(S=>S.KODE==w.substring(0,w.length-2)))(u),b=document.getElementById(j).value,T=document.getElementById(h).value,C=document.getElementById(j),I=document.getElementById(h),P=document.getElementById(o);localStorage.setItem(u+m+"panjang",JSON.stringify(b)),localStorage.setItem(u+m+"berat",JSON.stringify(T)),JSON.parse(localStorage.getItem(u+m+"spec"))==null&&localStorage.setItem(u+m+"spec",JSON.stringify(l[0].SPEC)),b==""||T==""?(P.className="text-white bg-red-400 hover:bg-red-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",C.className="mb-2 bg-gray-700 border border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600 placeholder-gray-400 text-white dark:focus:ring-blue-500 font-bold",I.className="mb-2 bg-gray-700 border border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600 placeholder-gray-400 text-white dark:focus:ring-blue-500 font-bold"):(C.className="bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-md rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500 font-bold",I.className="bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-md rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500 font-bold",r(Number(b)),i(Number(T)),P.className="focus:outline-none text-white bg-teal-800 hover:bg-teal-500 focus:ring-4 focus:ring-teal-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"),f(l)};return e.jsxs(E.Fragment,{children:[A.sort()&&A.map((u,j)=>e.jsxs("div",{className:"m-2 flex gap-2",id:`parent${j}${u}${j}`,children:[e.jsx("input",{className:"mb-2 bg-gray-700 border border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600 placeholder-gray-400 text-white dark:focus:ring-blue-500 font-bold",type:"number",placeholder:"masukkan panjang",id:`panjang${u}${j}`,defaultValue:JSON.parse(localStorage.getItem(u+m+"panjang"))}),e.jsx("input",{className:"mb-2 bg-gray-700 border border-gray-300  text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 placeholder-gray-400 text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 font-bold",type:"number",placeholder:"masukkan berat",id:`berat${u}${j}`,defaultValue:JSON.parse(localStorage.getItem(u+m+"berat"))}),e.jsx("button",{type:"submit",id:`button${j}${u}${j}`,className:"text-white bg-red-400 dark:bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",onClick:()=>k(u,`panjang${u}${j}`,`berat${u}${j}`,`button${j}${u}${j}`),children:u})]},j)),a&&c&&e.jsx(H,{KEYDB:m,DATA:d,DATACUST:s.DATACUST,PANJANG:a,BERAT:c,PO:g,QtyAll:s.DATA.length,DATAJSON:s.DATA})]})}function F(s){const[d,f]=p.useState(""),[t,n]=p.useState(""),[x,N]=p.useState("");return p.useEffect(()=>{const a=new FileReader;a.onload=r=>{const c=r.target.result,i=Y(c,{type:"binary"}),g=i.SheetNames[0],A=i.Sheets[g],m=K.sheet_to_json(A,{raw:!0}),k={date:m[0].DATE,customer:m[0].CUSTOMER,supliyer:m[0].SUPLIYER};m[0].QTY==null?(f(null),n(null)):(N(m[0].KEYDB),n(k),f(m))},a.readAsBinaryString(s.FILE)},[]),e.jsxs(E.Fragment,{children:[d&&e.jsx("h1",{className:"text-center text-white mb-[20px]",children:t.customer}),d&&e.jsx($,{DATA:d,DATACUST:t}),!d&&e.jsxs("div",{className:"flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 mx-2",role:"alert",children:[e.jsx("svg",{"aria-hidden":"true",className:"flex-shrink-0 inline w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"File Yang Anda Masukkan Tidak Sesuai"}),e.jsxs("ul",{className:"mt-1.5 ml-4 list-disc list-inside",children:[e.jsx("li",{children:"Pastikan File Anda Berformat xlsx atau xls"}),e.jsx("li",{children:"Pastikan Anda Mengisi QTY Pada Line Pertama"}),e.jsx("li",{children:"Pastikan Anda Mengisi CUSTOMER Pada Line Pertama"}),e.jsxs("li",{children:["Silahkan Tekan Tombol REMOVE ",s.FILENAME," Di Atas"]}),e.jsx("li",{children:"Dan Ulangi Lagi"})]})]})]})]})}const z=E.memo(F);function G(){const[s,d]=p.useState(""),[f,t]=p.useState(""),n=N=>{d(N.target.files[0]),t(N.target.files[0].name)},x=()=>{d(null)};return e.jsxs(E.Fragment,{children:[!s&&e.jsx("div",{className:"flex items-center justify-center w-80 mx-auto",children:e.jsxs("label",{forform:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-800 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{"aria-hidden":"true",className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Excel"})]}),e.jsx("input",{type:"file",className:"hidden",onChange:N=>{n(N)}})]})}),s&&e.jsx(e.Fragment,{children:s&&e.jsxs("div",{className:"container flex flex-col align-center justify-center",children:[e.jsxs("button",{type:"button",className:"text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-lg text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900 px-10 py-3 my-10 mx-auto",onClick:x,children:["REMOVE ",f]}),e.jsx(z,{FILE:s,FILENAME:f})]})})]})}function W(){return p.useEffect(()=>{const s=d=>(d.preventDefault(),console.log("beforeunload event triggered"),d.returnValue="Are you sure you want to exit?");return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s)}},[]),e.jsx(v,{children:e.jsx(G,{})})}const X=R([{path:"/",element:e.jsx(Q,{})},{path:"/label",element:e.jsx(W,{})}]);U.createRoot(document.getElementById("root")).render(e.jsx(E.Fragment,{children:e.jsx(L,{router:X})}));
